<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: app/routers/urls.mjs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: app/routers/urls.mjs</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module userRouter this is the module to route the user
 */
// routes/userRoutes.js
import express from "express";
import swaggerUi from "swagger-ui-express"
// yaml import
import fs from "fs";
import { fileURLToPath } from "url";
import path from "path";
import yaml from 'js-yaml';

import userRouter from "./userRoute.mjs";

function getSwaggerDoc() {
  const __filename = fileURLToPath(import.meta.url);
  const __dirname = path.dirname(__filename);

  const filePath = path.resolve(__dirname, '../swagger/swagger-output.yaml');
  const yamlContent = fs.readFileSync(filePath, 'utf8');
  const swaggerDocument = yaml.load(yamlContent);
  return swaggerDocument;
};

/**
 * @description this is the principal/root router for all the api
 * @param { Express.app } app the core app
 * @returns { Express.Router }
 */
function urlFunction(app) {
  const swaggerPractice = express.Router();
  swaggerPractice.use('/user', userRouter);
  swaggerPractice.use('/otherUser', userRouter);

  const swaggerDocument = getSwaggerDoc();
  swaggerPractice.use('/docs', swaggerUi.serve);
  swaggerPractice.get('/docs', swaggerUi.setup(swaggerDocument));

  app.use("/swaggerAPI", swaggerPractice);


};

export default urlFunction;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="index.module_mjs%2520principal%2520entry%2520for%2520the%2520app.html">mjs principal entry for the app</a></li><li><a href="module-UserController%2520this%2520module%2520define%2520the%2520user%2520controllers%2520for%2520HTTP%2520methods.html">UserController this module define the user controllers for HTTP methods</a></li><li><a href="module-otherUserRouter%2520this%2520is%2520the%2520module%2520to%2520route%2520the%2520otherUser.html">otherUserRouter this is the module to route the otherUser</a></li><li><a href="module-userRouter%252520this%252520is%252520the%252520module%252520to%252520route%252520the%252520user.html">userRouter this is the module to route the user</a></li><li><a href="swagger.module_mjs%2520swagger%2520generation.html">mjs swagger generation</a></li></ul><h3>Classes</h3><ul><li><a href="User.html">User</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sun Mar 03 2024 21:56:57 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
